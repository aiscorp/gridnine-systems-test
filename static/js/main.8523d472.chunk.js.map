{"version":3,"sources":["components/FlightElement/FlightElement.module.scss","components/FlightElement/FlightElement.functions.js","components/FlightElement/FlightElement.js","components/FilterPanel/FilterPanel.functions.js","store/actions/actionTypes.js","components/FilterPanel/FilterPanel.js","store/actions/search.js","App.js","store/reducers/search.js","store/reducers/rootReducer.js","index.js","components/FilterPanel/FilterPanel.module.scss"],"names":["module","exports","moment","locale","Header","carrier","price","className","classes","header","src","airlineCode","alt","cost","Math","round","passengerPrices","singlePassengerTotal","amount","currency","Leg","legs","firstSegment","segments","lastSegment","length","leg","line","departureCity","caption","departureAirport","info","uid","arrow","size","icon","faLongArrowAltRight","arrivalCity","arrivalAirport","underline","scheduleLine","departureDate","format","faClock","floor","duration","arrivalDate","segmentsLine","airline","ChooseButton","chooseButton","FlightElement","props","flight","Tab","tab","children","Checker","checked","label","onClick","cls","disabled","checker","join","e","type","onChange","Radio","radio","radioClick","NumberInput","value","useState","input","setInput","error","setError","delay","setDelay","target","isNaN","Number","clearTimeout","_delay","setTimeout","debounce","AIRLINES","AIRLINE_FILTER","SORT_ORDER","SEGMENT_FILTER","PRICE_FILTER","mapDispatchToProps","updateAirlineFilter","filter","data","updateSortOrder","sortOrder","updateSegmentFilter","updatePriceFilter","connect","state","airlines","search","availableAirlines","filters","panel","map","el","index","segment","indexOf","from","to","filtered","id","initialState","result","flights","airlineFilterReducer","action","_airline","applyFilters","segmentReducer","_segment","priceReducer","sortByOrderReducer","filteredData","airlineFilter","priceFilter","segmentsFilter","sortByOrder","getAirlines","Set","ticketPrice","filterPrice","segTo","segOut","seg","sort","a","b","reduce","prev","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8523d472.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"flight\":\"FlightElement_flight__1r5mo\",\"header\":\"FlightElement_header__1J522\",\"carrier\":\"FlightElement_carrier__2Gw5v\",\"cost\":\"FlightElement_cost__m5kcm\",\"leg\":\"FlightElement_leg__1Kpqp\",\"arrow\":\"FlightElement_arrow__2BdD2\",\"secondary\":\"FlightElement_secondary__2qsL6\",\"info\":\"FlightElement_info__2casi\",\"line\":\"FlightElement_line__8rqvl\",\"scheduleLine\":\"FlightElement_scheduleLine__2w_DQ\",\"segmentsLine\":\"FlightElement_segmentsLine__1RNye\",\"underline\":\"FlightElement_underline__3DRBT\",\"chooseButton\":\"FlightElement_chooseButton__1EvuD\"};","import classes from './FlightElement.module.scss'\nimport React from 'react'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faLongArrowAltRight} from '@fortawesome/free-solid-svg-icons'\nimport {faClock} from '@fortawesome/free-regular-svg-icons'\nimport moment from 'moment'\nimport 'moment/locale/ru'\n\nmoment.locale('ru')\n\nexport const Header = ({carrier, price}) => (\n  <div className={classes.header}>\n    <div className={classes.carrier}>\n      <img\n        src={`https://www.skyscanner.net/images/airlines/small/${carrier.airlineCode}.png`}\n        alt={carrier.airlineCode}/>\n    </div>\n    <div className={classes.cost}>\n      <span>\n        {Math.round(price.passengerPrices[0].singlePassengerTotal.amount)}\n        &nbsp;\n        {price.passengerPrices[0].singlePassengerTotal.currency}</span>\n      <small>Стоимость расчитана на одного взрослого пассажира</small>\n    </div>\n  </div>\n)\n\nexport const Leg = ({legs}) => {\n  const firstSegment = legs.segments[0]\n  const lastSegment = legs.segments.length > 0 ?\n    legs.segments[legs.segments.length - 1] : firstSegment\n  const segments = legs.segments.length > 1 ?\n    <span>{legs.segments.length - 1} пересадка</span> : ''\n\n  return (\n    <div className={classes.leg}>\n      <div className={classes.line}>\n        <span>{firstSegment.departureCity ? firstSegment.departureCity.caption : 'err'},&nbsp;</span>\n        <span>{firstSegment.departureAirport.caption}&nbsp;</span>\n        <span className={classes.info}>({firstSegment.departureAirport.uid})&nbsp;</span>\n        <FontAwesomeIcon className={classes.arrow} size=\"1x\" icon={faLongArrowAltRight}/>&nbsp;\n        <span>{lastSegment.arrivalCity ? lastSegment.arrivalCity.caption : 'err'},&nbsp;</span>\n        <span>{lastSegment.arrivalAirport.caption}&nbsp;</span>\n        <span className={classes.info}>({lastSegment.arrivalAirport.uid})</span>\n      </div>\n      <div className={classes.underline}/>\n      <div className={classes.scheduleLine}>\n        <div>\n          <span>\n            {moment(firstSegment.departureDate).format('LT')}&nbsp;\n          </span>\n          <span className={classes.info}>\n            {moment(firstSegment.departureDate).format('D MMM dd')}\n          </span>\n        </div>\n        <div>\n          <FontAwesomeIcon size=\"1x\" icon={faClock}/>&nbsp;\n          <span>\n            {Math.floor(legs.duration / 60)}&nbsp;ч&nbsp;\n            {legs.duration % 60}&nbsp;мин\n          </span>\n        </div>\n        <div>\n          <span className={classes.info}>\n            {moment(lastSegment.arrivalDate).format('D MMM dd')}\n            &nbsp;</span>\n          <span>\n            {moment(lastSegment.arrivalDate).format('LT')}\n            </span>\n        </div>\n      </div>\n      <div className={classes.segmentsLine}>\n        {segments}\n      </div>\n      <div className={classes.line}>\n        <span>Рейс выполняет:\n          {firstSegment.airline.airlineCode}&nbsp;{firstSegment.airline.caption}</span>\n      </div>\n    </div>\n  )\n}\n\nexport const ChooseButton = () => (\n  <div className={classes.chooseButton}>\n    ВЫБРАТЬ\n  </div>\n)\n","import React from 'react'\nimport {ChooseButton, Header, Leg} from './FlightElement.functions'\nimport classes from './FlightElement.module.scss'\n\nconst FlightElement = (props) => {\n  const {flight} = props\n  const {carrier, price, legs} = flight\n\n  return (\n    <>\n      <div className={classes.flight}>\n        <Header carrier={carrier} price={price}/>\n        <Leg legs={legs[0]}/>\n        <Leg legs={legs[1]}/>\n        <ChooseButton/>\n      </div>\n    </>\n  )\n}\n\nexport default FlightElement\n","import classes from './FilterPanel.module.scss'\nimport React, {useState} from 'react'\n\nexport const Tab = (props) => (\n  <div className={classes.tab}>\n    <p>{props.caption}</p>\n    {props.children}\n  </div>\n)\n\nexport const Checker = ({checked, label, onClick, disabled}) => {\n  const cls = disabled ?\n    [classes.checker, classes.disabled].join(' ') : classes.checker\n\n  const checkerClick = (e) => {\n    onClick(checked)\n  }\n\n  return (\n    <div className={cls} onClick={checkerClick}>\n      <input type=\"checkbox\" checked={checked} onChange={() => {}}/>\n      <span>&nbsp;&nbsp;{label}</span>\n    </div>\n  )\n}\n\nexport const Radio = ({checked, label, onClick, disabled}) => {\n  const cls = disabled ?\n    [classes.radio, classes.disabled].join(' ') : classes.radio\n\n  const radioClick = () => {\n    const _checked = !checked\n    onClick(_checked)\n  }\n\n  return (\n    <div className={cls} onClick={radioClick}>\n      <input type=\"radio\" checked={checked} onChange={radioClick}/>\n      <span>&nbsp;&nbsp;{label}</span>\n    </div>\n  )\n}\n\nexport const NumberInput = ({value, label, onChange, disabled}) => {\n  const [input, setInput] = useState(value)\n  const [error, setError] = useState(false)\n  const [delay, setDelay] = useState(null)\n\n  const cls = [classes.input, disabled ? classes.disabled : '']\n\n  const debounce = (value) => {\n    if (delay) {\n      clearTimeout(delay)\n    }\n    const _delay = setTimeout(() => {\n      onChange(value)\n    }, 500)\n    setDelay(_delay)\n  }\n\n  const onChangeHandler = (e) => {\n    const value = e.target.value\n\n    if (isNaN(Number(value))) {\n      setInput(value)\n      setError(true)\n    } else {\n      setError(false)\n      setInput(Number(value))\n      debounce(Number(value))\n    }\n  }\n\n  return (\n    <div className={cls.join(' ')}>\n      <span>{label}&nbsp;</span>\n      <input className={error ? classes.error : ''}\n             type=\"text\"\n             value={input}\n             onChange={onChangeHandler}/>\n    </div>\n  )\n}\n","export const AIRLINES = 'AIRLINES'\nexport const AIRLINE_FILTER = 'AIRLINE_FILTER'\nexport const SORT_ORDER = 'SORT_ORDER'\nexport const SEGMENT_FILTER = 'SEGMENT_FILTER'\nexport const PRICE_FILTER = 'PRICE_FILTER'\n","import classes from './FilterPanel.module.scss'\nimport React from 'react'\nimport {connect} from 'react-redux'\nimport {Checker, NumberInput, Tab, Radio} from './FilterPanel.functions'\nimport {updateAirlineFilter, updatePriceFilter, updateSegmentFilter, updateSortOrder} from '../../store/actions/search'\n\nconst FilterPanel = (props) => {\n  const {\n    airlines, availableAirlines, updateAirlineFilter,\n    updateSortOrder, updatePriceFilter, updateSegmentFilter,\n    filters\n  } = props\n\n  const sortLabels = ['по убыванию цены', 'по возростанию цены', 'по времени в пути']\n  const segmentLabels = ['нет', '1 пересадка']\n\n  return (\n    <>\n      <div className={classes.panel}>\n\n        <Tab caption='Сортировать'>\n          {sortLabels.map((el, index) => (\n            <Radio checked={filters.sortOrder === el}\n                   disabled={false}\n                   label={el}\n                   key={index}\n                   onClick={() => updateSortOrder(el)}/>\n          ))}\n        </Tab>\n\n        <Tab caption='Пересадки'>\n          {segmentLabels.map((el, index) => (\n            <Checker checked={filters.segment.indexOf(index + 1) !== -1}\n                     disabled={false}\n                     label={el}\n                     key={index}\n                     onClick={() => updateSegmentFilter(index + 1)}/>\n          ))}\n        </Tab>\n\n        <Tab caption='Цена'>\n          <NumberInput value={filters.price.from}\n                       disabled={false}\n                       label={'от'}\n                       onChange={(input) => updatePriceFilter({from: input})}/>\n\n          <NumberInput value={filters.price.to}\n                       disabled={false}\n                       label={'до'}\n                       onChange={(input) => updatePriceFilter({to: input})}/>\n        </Tab>\n\n        <Tab caption='Авиакомпании'>\n          {airlines.map((el, index) => (\n            <Checker checked={filters.airline.indexOf(el) !== -1}\n                     disabled={availableAirlines.indexOf(el) === -1}\n                     label={el} key={index}\n                     onClick={() => updateAirlineFilter(el)}/>\n          ))}\n        </Tab>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  airlines: state.search.airlines,\n  availableAirlines: state.search.availableAirlines,\n  filters: state.search.filters\n})\n\nconst mapDispatchToProps = {\n  updateAirlineFilter,\n  updateSortOrder,\n  updateSegmentFilter,\n  updatePriceFilter\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterPanel)\n","import {AIRLINE_FILTER, PRICE_FILTER, SEGMENT_FILTER, SORT_ORDER} from './actionTypes'\n\nexport function updateAirlineFilter(filter) {\n  return {\n    type: AIRLINE_FILTER,\n    data: filter\n  }\n}\n\nexport function updateSegmentFilter(filter) {\n  return {\n    type: SEGMENT_FILTER,\n    data: filter\n  }\n}\n\nexport function updatePriceFilter(filter) {\n  return {\n    type: PRICE_FILTER,\n    data: filter\n  }\n}\n\nexport function updateSortOrder(sortOrder) {\n  return {\n    type: SORT_ORDER,\n    data: sortOrder\n  }\n}\n","import './App.css'\nimport React from 'react'\nimport FlightElement from './components/FlightElement/FlightElement'\nimport FilterPanel from './components/FilterPanel/FilterPanel'\nimport {connect} from 'react-redux'\n\nfunction App(props) {\n  const {filtered} = props\n\n  return (\n    <div className=\"App\">\n      <FilterPanel/>\n      <div className=\"container\">\n        {filtered.map((el, id) => (\n          <FlightElement flight={el.flight} key={id}/>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  filtered: state.search.filtered\n})\n\nexport default connect(mapStateToProps, null)(App)\n","import searchResult from '../../flights.json'\nimport {\n  AIRLINE_FILTER,\n  AIRLINES,\n  PRICE_FILTER,\n  SEGMENT_FILTER,\n  SORT_ORDER\n} from '../actions/actionTypes'\n\nconst initialState = {\n  data: searchResult.result.flights,\n  filtered: [],\n  filters: {\n    sortOrder: 'по убыванию цены',\n    segment: [],\n    price: {from: 0, to: 50000},\n    airline: []\n  },\n  airlines: {}\n}\n\nexport default function searchReducer(state = initialState, action) {\n  switch (action.type) {\n    case AIRLINE_FILTER:\n      return airlineFilterReducer(state, action)\n\n    case SEGMENT_FILTER:\n      return segmentReducer(state, action)\n\n    case PRICE_FILTER:\n      return priceReducer(state, action)\n\n    case SORT_ORDER:\n      return sortByOrderReducer(state, action)\n\n    case AIRLINES:\n      return {\n        ...state, airlines: action.data\n      }\n\n    default:\n      return {\n        data: state.data,\n        filtered: applyFilters(state).filtered,\n        airlines: getAirlines(state),\n        availableAirlines: getAirlines(applyFilters(state)),\n        filters: state.filters\n      }\n  }\n}\n\nconst airlineFilterReducer = (state, action) => {\n  const {airline} = state.filters\n\n  let _airline\n  if (airline.indexOf(action.data) !== -1) {\n    _airline = airline.filter(el => el !== action.data)\n  } else {\n    _airline = [...airline, action.data]\n  }\n\n  return applyFilters({\n    ...state,\n    filters: {...state.filters, airline: _airline}\n  })\n}\n\nconst segmentReducer = (state, action) => {\n  const {segment} = state.filters\n  let _segment\n\n  if (segment.indexOf(action.data) !== -1) {\n    _segment = segment.filter(el => el !== action.data)\n  } else {\n    _segment = [...segment, action.data]\n  }\n\n  return applyFilters({\n    ...state,\n    filters: {...state.filters, segment: _segment}\n  })\n}\n\nconst priceReducer = (state, action) => ( applyFilters({\n    ...state,\n    filters: {...state.filters, price: {...state.filters.price, ...action.data}}\n  }))\n\n\nconst sortByOrderReducer = (state, action) => {\n  return applyFilters({\n    ...state,\n    filters: {...state.filters, sortOrder: action.data}\n  })\n}\n\nconst applyFilters = (state) => {\n  let filteredData = state.data\n\n  if (state.filters.airline.length)\n    filteredData = airlineFilter(filteredData, state.filters)\n\n  filteredData = priceFilter(filteredData, state.filters)\n\n  if (state.filters.segment.length)\n    filteredData = segmentsFilter(filteredData, state.filters)\n\n  sortByOrder(filteredData, state.filters)\n\n  return {\n    ...state,\n    filtered: filteredData\n  }\n}\n\nconst getAirlines = (state) => {\n  return [...new Set(state.data.map(el => el.flight.carrier.caption))]\n}\n\nconst airlineFilter = (data, filters) => {\n  return data.filter(el => filters.airline.indexOf(el.flight.carrier.caption) !== -1)\n}\n\nconst priceFilter = (data, filters) => {\n  return data.filter(el => {\n    const ticketPrice = el.flight.price.passengerPrices[0].singlePassengerTotal.amount\n    const filterPrice = filters.price\n\n    return ticketPrice > filterPrice.from && ticketPrice < filterPrice.to\n  })\n}\n\nconst segmentsFilter = (data, filters) => {\n  return data.filter(el => {\n    const segTo = el.flight.legs[0].segments.length\n    const segOut = el.flight.legs[1].segments.length\n    const seg = segTo > segOut ? segTo : segOut  // наибольшее кол-во сегментов полета (1 или 2)\n\n    return filters.segment.indexOf(seg) !== -1\n  })\n}\n\nconst sortByOrder = (data, filters) => {\n  switch (filters.sortOrder) {\n    case 'по убыванию цены':\n      return data.sort((a, b) => {\n        return b.flight.price.passengerPrices[0].singlePassengerTotal.amount\n          - a.flight.price.passengerPrices[0].singlePassengerTotal.amount\n      })\n    case 'по возростанию цены':\n      return data.sort((a, b) => {\n        return a.flight.price.passengerPrices[0].singlePassengerTotal.amount\n          - b.flight.price.passengerPrices[0].singlePassengerTotal.amount\n      })\n    case 'по времени в пути':\n      return data.sort((a, b) => {\n        const durA = a.flight.legs.reduce((prev, el) => prev + el.duration, 0)\n        const durB = b.flight.legs.reduce((prev, el) => prev + el.duration, 0)\n        return durA - durB\n      })\n    default:\n      return data\n  }\n}\n","import {combineReducers} from 'redux'\nimport searchReducer from './search'\n\nexport default combineReducers({\n  search: searchReducer\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport {compose, createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport rootReducer from './store/reducers/rootReducer'\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App/>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"FilterPanel_panel__OxZB6\",\"tab\":\"FilterPanel_tab__3p4rC\",\"checker\":\"FilterPanel_checker__3gFlJ\",\"radio\":\"FilterPanel_radio__25ZIH\",\"input\":\"FilterPanel_input__cKfJc\",\"disabled\":\"FilterPanel_disabled__2js9z\",\"error\":\"FilterPanel_error__1aK3D\"};"],"sourceRoot":""}