{"version":3,"sources":["components/FlightElement/FlightElement.module.scss","components/FlightElement/FlightElement.functions.js","components/FlightElement/FlightElement.js","components/FilterPanel/FilterPanel.functions.js","store/actions/actionTypes.js","components/FilterPanel/FilterPanel.js","store/actions/search.js","App.js","store/reducers/search.js","store/reducers/rootReducer.js","index.js","components/FilterPanel/FilterPanel.module.scss"],"names":["module","exports","moment","locale","Header","carrier","price","className","classes","header","src","airlineCode","alt","cost","Math","round","passengerPrices","singlePassengerTotal","amount","currency","Leg","legs","firstSegment","segments","lastSegment","length","leg","line","departureCity","caption","departureAirport","info","uid","arrow","size","icon","faLongArrowAltRight","arrivalCity","arrivalAirport","underline","scheduleLine","departureDate","format","faClock","floor","duration","arrivalDate","segmentsLine","airline","ChooseButton","label","onClick","chooseButton","FlightElement","props","flight","alert","Tab","tab","children","Checker","checked","cls","disabled","checker","join","e","type","onChange","Radio","radio","radioClick","NumberInput","value","useState","input","setInput","error","setError","delay","setDelay","target","isNaN","Number","clearTimeout","_delay","setTimeout","debounce","AIRLINE_FILTER","SORT_ORDER","SEGMENT_FILTER","PRICE_FILTER","PAGINATOR","mapDispatchToProps","updateAirlineFilter","filter","data","updateSortOrder","sortOrder","updateSegmentFilter","updatePriceFilter","connect","state","airlines","search","availableAirlines","availableSegments","availablePrices","filters","panel","map","el","index","segment","indexOf","from","to","paginatorAddElements","number","filtered","paginator","filteredWithPaginator","slice","id","style","width","margin","initialState","result","flights","airlineFilterReducer","action","_airline","newState","applyFilters","getSegments","getPrices","segmentReducer","_segment","getAirlines","priceReducer","sortByOrderReducer","newFilteredData","priceFilter","segmentsFilter","airlineFilter","sortByOrder","resetPaginator","Set","segTo","segOut","res","min","max","ticketPrice","filterPrice","seg","sort","a","b","reduce","prev","combineReducers","defaultState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ae7bca5c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"flight\":\"FlightElement_flight__1r5mo\",\"header\":\"FlightElement_header__1J522\",\"carrier\":\"FlightElement_carrier__2Gw5v\",\"cost\":\"FlightElement_cost__m5kcm\",\"leg\":\"FlightElement_leg__1Kpqp\",\"arrow\":\"FlightElement_arrow__2BdD2\",\"secondary\":\"FlightElement_secondary__2qsL6\",\"info\":\"FlightElement_info__2casi\",\"line\":\"FlightElement_line__8rqvl\",\"scheduleLine\":\"FlightElement_scheduleLine__2w_DQ\",\"segmentsLine\":\"FlightElement_segmentsLine__1RNye\",\"underline\":\"FlightElement_underline__3DRBT\",\"chooseButton\":\"FlightElement_chooseButton__1EvuD\"};","import classes from './FlightElement.module.scss'\nimport React from 'react'\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\nimport {faLongArrowAltRight} from '@fortawesome/free-solid-svg-icons'\nimport {faClock} from '@fortawesome/free-regular-svg-icons'\nimport moment from 'moment'\nimport 'moment/locale/ru'\n\nmoment.locale('ru')\n\nexport const Header = ({carrier, price}) => (\n  <div className={classes.header}>\n    <div className={classes.carrier}>\n      <img\n        src={`https://www.skyscanner.net/images/airlines/small/${carrier.airlineCode}.png`}\n        alt={carrier.airlineCode}/>\n    </div>\n    <div className={classes.cost}>\n      <span>\n        {Math.round(price.passengerPrices[0].singlePassengerTotal.amount)}\n        &nbsp;\n        {price.passengerPrices[0].singlePassengerTotal.currency}</span>\n      <small>Стоимость расчитана на одного взрослого пассажира</small>\n    </div>\n  </div>\n)\n\nexport const Leg = ({legs}) => {\n  const firstSegment = legs.segments[0]\n  const lastSegment = legs.segments.length > 0 ?\n    legs.segments[legs.segments.length - 1] : firstSegment\n  const segments = legs.segments.length > 1 ?\n    <span>{legs.segments.length - 1} пересадка</span> : ''\n\n  return (\n    <div className={classes.leg}>\n      <div className={classes.line}>\n        <span>{firstSegment.departureCity ? firstSegment.departureCity.caption : 'err'},&nbsp;</span>\n        <span>{firstSegment.departureAirport.caption}&nbsp;</span>\n        <span className={classes.info}>({firstSegment.departureAirport.uid})&nbsp;</span>\n        <FontAwesomeIcon className={classes.arrow} size=\"1x\" icon={faLongArrowAltRight}/>&nbsp;\n        <span>{lastSegment.arrivalCity ? lastSegment.arrivalCity.caption : 'err'},&nbsp;</span>\n        <span>{lastSegment.arrivalAirport.caption}&nbsp;</span>\n        <span className={classes.info}>({lastSegment.arrivalAirport.uid})</span>\n      </div>\n      <div className={classes.underline}/>\n      <div className={classes.scheduleLine}>\n        <div>\n          <span>\n            {moment(firstSegment.departureDate).format('LT')}&nbsp;\n          </span>\n          <span className={classes.info}>\n            {moment(firstSegment.departureDate).format('D MMM dd')}\n          </span>\n        </div>\n        <div>\n          <FontAwesomeIcon size=\"1x\" icon={faClock}/>&nbsp;\n          <span>\n            {Math.floor(legs.duration / 60)}&nbsp;ч&nbsp;\n            {legs.duration % 60}&nbsp;мин\n          </span>\n        </div>\n        <div>\n          <span className={classes.info}>\n            {moment(lastSegment.arrivalDate).format('D MMM dd')}\n            &nbsp;</span>\n          <span>\n            {moment(lastSegment.arrivalDate).format('LT')}\n            </span>\n        </div>\n      </div>\n      <div className={classes.segmentsLine}>\n        {segments}\n      </div>\n      <div className={classes.line}>\n        <span>Рейс выполняет:\n          {firstSegment.airline.airlineCode}&nbsp;{firstSegment.airline.caption}</span>\n      </div>\n    </div>\n  )\n}\n\nexport const ChooseButton = ({label, onClick}) => {\n  return (\n    <div className={classes.chooseButton} onClick={onClick}>\n      {label}\n    </div>\n  )\n}\n","import React from 'react'\nimport {ChooseButton, Header, Leg} from './FlightElement.functions'\nimport classes from './FlightElement.module.scss'\n\nconst FlightElement = (props) => {\n  const {flight} = props\n  const {carrier, price, legs} = flight\n\n  return (\n    <>\n      <div className={classes.flight}>\n        <Header carrier={carrier} price={price}/>\n        <Leg legs={legs[0]}/>\n        <Leg legs={legs[1]}/>\n        <ChooseButton label='ВЫБРАТЬ' onClick={() => {alert(carrier.caption)}}/>\n      </div>\n    </>\n  )\n}\n\nexport default FlightElement\n","import classes from './FilterPanel.module.scss'\nimport React, {useState} from 'react'\n\nexport const Tab = (props) => (\n  <div className={classes.tab}>\n    <p>{props.caption}</p>\n    {props.children}\n  </div>\n)\n\nexport const Checker = ({checked, label, onClick, disabled}) => {\n  const cls = disabled ?\n    [classes.checker, classes.disabled].join(' ') : classes.checker\n\n  const checkerClick = (e) => {\n    onClick(checked)\n  }\n\n  return (\n    <div className={cls} onClick={checkerClick}>\n      <input type=\"checkbox\" checked={checked} onChange={() => {}}/>\n      <span>&nbsp;&nbsp;{label}</span>\n    </div>\n  )\n}\n\nexport const Radio = ({checked, label, onClick, disabled}) => {\n  const cls = disabled ?\n    [classes.radio, classes.disabled].join(' ') : classes.radio\n\n  const radioClick = () => {\n    const _checked = !checked\n    onClick(_checked)\n  }\n\n  return (\n    <div className={cls} onClick={radioClick}>\n      <input type=\"radio\" checked={checked} onChange={radioClick}/>\n      <span>&nbsp;&nbsp;{label}</span>\n    </div>\n  )\n}\n\nexport const NumberInput = ({value, label, onChange, disabled}) => {\n  const [input, setInput] = useState(value)\n  const [error, setError] = useState(false)\n  const [delay, setDelay] = useState(null)\n\n  const cls = [classes.input, disabled ? classes.disabled : '']\n\n  const debounce = (value) => {\n    if (delay) {\n      clearTimeout(delay)\n    }\n    const _delay = setTimeout(() => {\n      onChange(value)\n    }, 500)\n    setDelay(_delay)\n  }\n\n  const onChangeHandler = (e) => {\n    const value = e.target.value\n\n    if (isNaN(Number(value))) {\n      setInput(value)\n      setError(true)\n    } else {\n      setError(false)\n      setInput(Number(value))\n      debounce(Number(value))\n    }\n  }\n\n  return (\n    <div className={cls.join(' ')}>\n      <span>{label}&nbsp;</span>\n      <input className={error ? classes.error : ''}\n             type=\"text\"\n             value={input}\n             onChange={onChangeHandler}/>\n    </div>\n  )\n}\n","export const AIRLINE_FILTER = 'AIRLINE_FILTER'\nexport const SORT_ORDER = 'SORT_ORDER'\nexport const SEGMENT_FILTER = 'SEGMENT_FILTER'\nexport const PRICE_FILTER = 'PRICE_FILTER'\nexport const PAGINATOR = 'PAGINATOR'\n","import classes from './FilterPanel.module.scss'\nimport React from 'react'\nimport {connect} from 'react-redux'\nimport {Checker, NumberInput, Tab, Radio} from './FilterPanel.functions'\nimport {updateAirlineFilter, updatePriceFilter,\n  updateSegmentFilter, updateSortOrder} from '../../store/actions/search'\n\nconst FilterPanel = (props) => {\n  const {\n    airlines, availableAirlines, updateAirlineFilter,\n    updateSortOrder, availablePrices, updatePriceFilter,\n    availableSegments, updateSegmentFilter, filters\n  } = props\n\n  const sortLabels = ['по возростанию цены', 'по убыванию цены', 'по времени в пути']\n  const segmentLabels = ['нет', '1 пересадка', '2 пересадки']\n\n  return (\n    <>\n      <div className={classes.panel}>\n\n        <Tab caption='Сортировать'>\n          {sortLabels.map((el, index) => (\n            <Radio checked={filters.sortOrder === el}\n                   disabled={false}\n                   label={el}\n                   key={index}\n                   onClick={() => updateSortOrder(el)}/>\n          ))}\n        </Tab>\n\n        <Tab caption='Пересадки'>\n          {segmentLabels.map((el, index) => (\n            <Checker checked={filters.segment.indexOf(index + 1) !== -1}\n                     disabled={availableSegments.indexOf(index + 1) === -1}\n                     label={el}\n                     key={index}\n                     onClick={() => updateSegmentFilter(index + 1)}/>\n          ))}\n        </Tab>\n\n        <Tab caption='Цена'>\n          <NumberInput value={filters.price.from}\n                       disabled={false}\n                       label={`от (${availablePrices.from})`}\n                       onChange={(input) => updatePriceFilter({from: input + 1})}/>\n\n          <NumberInput value={filters.price.to}\n                       disabled={false}\n                       label={`до (${availablePrices.to})`}\n                       onChange={(input) => updatePriceFilter({to: input + 1})}/>\n        </Tab>\n\n        <Tab caption='Авиакомпании'>\n          {airlines.map((el, index) => (\n            <Checker checked={filters.airline.indexOf(el) !== -1}\n                     disabled={availableAirlines.indexOf(el) === -1}\n                     label={el} key={index}\n                     onClick={() => updateAirlineFilter(el)}/>\n          ))}\n        </Tab>\n      </div>\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  airlines: state.search.airlines,\n  availableAirlines: state.search.availableAirlines,\n  availableSegments: state.search.availableSegments,\n  availablePrices: state.search.availablePrices,\n  filters: state.search.filters\n})\n\nconst mapDispatchToProps = {\n  updateAirlineFilter,\n  updateSortOrder,\n  updateSegmentFilter,\n  updatePriceFilter\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterPanel)\n","import {AIRLINE_FILTER, PAGINATOR, PRICE_FILTER, SEGMENT_FILTER, SORT_ORDER} from './actionTypes'\n\nexport function updateAirlineFilter(filter) {\n  return {\n    type: AIRLINE_FILTER,\n    data: filter\n  }\n}\n\nexport function updateSegmentFilter(filter) {\n  return {\n    type: SEGMENT_FILTER,\n    data: filter\n  }\n}\n\nexport function updatePriceFilter(filter) {\n  return {\n    type: PRICE_FILTER,\n    data: filter\n  }\n}\n\nexport function updateSortOrder(sortOrder) {\n  return {\n    type: SORT_ORDER,\n    data: sortOrder\n  }\n}\n\nexport function paginatorAddElements(number) {\n  return {\n    type: PAGINATOR,\n    data: number\n  }\n}\n","import './App.css'\nimport React from 'react'\nimport FlightElement from './components/FlightElement/FlightElement'\nimport FilterPanel from './components/FilterPanel/FilterPanel'\nimport {connect} from 'react-redux'\nimport {ChooseButton} from './components/FlightElement/FlightElement.functions'\nimport {paginatorAddElements} from './store/actions/search'\n\nfunction App(props) {\n  const {filtered, paginator, paginatorAddElements} = props\n\n  const filteredWithPaginator = filtered.slice(0, paginator)\n\n  return (\n    <div className=\"App\">\n      <FilterPanel/>\n      <div className=\"container\">\n        {filteredWithPaginator.map((el, id) => (\n          <FlightElement flight={el.flight} key={id}/>\n        ))}\n        <div style={{width: '50%', margin: '0 auto'}}>\n          <ChooseButton label='Показать еще' onClick={() => paginatorAddElements(1)}/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => ({\n  filtered: state.search.filtered,\n  paginator: state.search.paginator\n})\n\nconst mapDispatchToProps = {\n  paginatorAddElements\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import searchResult from '../../flights.json'\nimport {\n  AIRLINE_FILTER, PRICE_FILTER,\n  SEGMENT_FILTER, SORT_ORDER, PAGINATOR\n} from '../actions/actionTypes'\n\nconst initialState = {\n  data: searchResult.result.flights,\n  filtered: [],\n  filters: {\n    sortOrder: 'по возростанию цены',\n    segment: [],\n    price: {},\n    airline: []\n  },\n  airlines: {},\n  availableAirlines: {},\n  paginator: 3\n}\n\nexport default function searchReducer(state = initialState, action) {\n  switch (action.type) {\n    case AIRLINE_FILTER:\n      return airlineFilterReducer(state, action)\n\n    case SEGMENT_FILTER:\n      return segmentReducer(state, action)\n\n    case PRICE_FILTER:\n      return priceReducer(state, action)\n\n    case SORT_ORDER:\n      return sortByOrderReducer(state, action)\n\n    case PAGINATOR:\n      return {\n        ...state, paginator: state.paginator + action.data\n      }\n\n    default:\n      const defaultState = {\n        data: state.data,\n        airlines: getAirlines(state.data),\n        availableAirlines: getAirlines(state.data),\n        availableSegments: getSegments(state.data),\n        availablePrices: getPrices(state.data),\n        filters: {...state.filters, price: getPrices(state.data)},\n        paginator: state.paginator\n      }\n      return applyFilters(defaultState)\n  }\n}\n\nconst airlineFilterReducer = (state, action) => {\n  const {airline} = state.filters\n\n  let _airline\n  if (airline.indexOf(action.data) !== -1) {\n    _airline = airline.filter(el => el !== action.data)\n  } else {\n    _airline = [...airline, action.data]\n  }\n\n  const newState = applyFilters({\n    ...state,\n    filters: {...state.filters, airline: _airline}\n  })\n\n  return {\n    ...newState,\n    availableSegments: getSegments(newState.filtered),\n    availablePrices: getPrices(newState.filtered)\n  }\n}\n\nconst segmentReducer = (state, action) => {\n  const {segment} = state.filters\n  let _segment\n\n  if (segment.indexOf(action.data) !== -1) {\n    _segment = segment.filter(el => el !== action.data)\n  } else {\n    _segment = [...segment, action.data]\n  }\n\n  const newState = applyFilters({\n    ...state,\n    filters: {...state.filters, segment: _segment}\n  })\n\n  return {\n    ...newState,\n    availableAirlines: getAirlines(newState.filtered),\n    availablePrices: getPrices(newState.filtered)\n  }\n}\n\nconst priceReducer = (state, action) => {\n  const newState = applyFilters({\n    ...state,\n    filters: {...state.filters, price: {...state.filters.price, ...action.data}}\n  })\n\n  return {\n    ...newState,\n    availableAirlines: getAirlines(newState.filtered),\n    availableSegments: getSegments(newState.filtered)\n  }\n}\n\n\nconst sortByOrderReducer = (state, action) => {\n  return applyFilters({\n    ...state,\n    filters: {...state.filters, sortOrder: action.data}\n  })\n}\n\nconst applyFilters = (state) => {\n  let newFilteredData = state.data\n\n  newFilteredData = priceFilter(newFilteredData, state.filters)\n\n  if (state.filters.segment.length)\n    newFilteredData = segmentsFilter(newFilteredData, state.filters)\n\n  if (state.filters.airline.length)\n    newFilteredData = airlineFilter(newFilteredData, state.filters)\n\n  sortByOrder(newFilteredData, state.filters)\n\n  return {\n    ...state,\n    filtered: newFilteredData,\n    paginator: resetPaginator()\n  }\n}\n\nconst getAirlines = (data) => [...new Set(data.map(el => el.flight.carrier.caption))]\n\nconst getSegments = (data) => [...new Set(data.map(el => {\n  const segTo = el.flight.legs[0].segments.length\n  const segOut = el.flight.legs[1].segments.length\n  return segTo > segOut ? segTo : segOut\n}))]\n\n\nconst getPrices = (data) => {\n  const res = data.map(el => el.flight.price.passengerPrices[0].singlePassengerTotal.amount)\n\n  return {from: Math.min(...res), to: Math.max(...res)}\n}\n\nconst airlineFilter = (data, filters) => {\n  return data.filter(el => filters.airline.indexOf(el.flight.carrier.caption) !== -1)\n}\n\nconst priceFilter = (data, filters) => {\n  return data.filter(el => {\n    const ticketPrice = el.flight.price.passengerPrices[0].singlePassengerTotal.amount\n    const filterPrice = filters.price\n\n    return ticketPrice > filterPrice.from && ticketPrice < filterPrice.to\n  })\n}\n\nconst segmentsFilter = (data, filters) => {\n  return data.filter(el => {\n    const segTo = el.flight.legs[0].segments.length\n    const segOut = el.flight.legs[1].segments.length\n    const seg = segTo > segOut ? segTo : segOut  // наибольшее кол-во сегментов полета (1 или 2)\n\n    return filters.segment.indexOf(seg) !== -1\n  })\n}\n\nconst sortByOrder = (data, filters) => {\n  switch (filters.sortOrder) {\n    case 'по убыванию цены':\n      return data.sort((a, b) => {\n        return b.flight.price.passengerPrices[0].singlePassengerTotal.amount\n          - a.flight.price.passengerPrices[0].singlePassengerTotal.amount\n      })\n    case 'по возростанию цены':\n      return data.sort((a, b) => {\n        return a.flight.price.passengerPrices[0].singlePassengerTotal.amount\n          - b.flight.price.passengerPrices[0].singlePassengerTotal.amount\n      })\n    case 'по времени в пути':\n      return data.sort((a, b) => {\n        const durA = a.flight.legs.reduce((prev, el) => prev + el.duration, 0)\n        const durB = b.flight.legs.reduce((prev, el) => prev + el.duration, 0)\n        return durA - durB\n      })\n    default:\n      return data\n  }\n}\n\nconst resetPaginator = () => initialState.paginator\n","import {combineReducers} from 'redux'\nimport searchReducer from './search'\n\nexport default combineReducers({\n  search: searchReducer\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport {compose, createStore} from 'redux'\nimport {Provider} from 'react-redux'\nimport rootReducer from './store/reducers/rootReducer'\n\nconst composeEnhancers =\n  typeof window === 'object' &&\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App/>\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"panel\":\"FilterPanel_panel__OxZB6\",\"tab\":\"FilterPanel_tab__3p4rC\",\"checker\":\"FilterPanel_checker__3gFlJ\",\"radio\":\"FilterPanel_radio__25ZIH\",\"input\":\"FilterPanel_input__cKfJc\",\"disabled\":\"FilterPanel_disabled__2js9z\",\"error\":\"FilterPanel_error__1aK3D\"};"],"sourceRoot":""}